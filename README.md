# AI Code Structure Generator (Text Format)

**Generate project file structures from a specific text format containing commands and code blocks, ideal for use with AI models. Paste the AI-generated text to create files and folders.**

This VS Code extension allows you to quickly scaffold project structures based on a structured text output generated by an AI.

## Features

*   Parses a specific text format containing PowerShell commands (`<comando>`) and file content blocks (`<codigo ref="...">`).
*   Ignores informational tags like `<texto>` and `<estrutura>` during processing.
*   Creates directories and files as specified by the `<comando>` tags.
*   Populates files with the provided code from the `<codigo>` blocks.
*   Executes terminal commands sequentially (using PowerShell) as they appear in the input.
*   Provides a dedicated view in the VS Code Activity Bar for easy access.

## How to Use

1.  **Generate the Structure Text:** Use an AI model capable of generating code and following specific formatting instructions (e.g., Google Gemini). Provide the AI with the following prompt structure:

    ```text
    Responda no seguinte formato seguindo as instruções abaixo:

    PARA CRIAÇÃO:
    ------------------------------------------------------------------
    A estrutura de paginas (não crie pasta raiz, ex: projeto-carros):

    PARTE ESTRUTURAL: <- obrigatóriamente como primeiro
    <texto>aqui está a estrutura:</texto> <- qualquer coisa que você for falar.
    (estrutura em ASCII)
    ex:
    <estrutura>
    .
    ├── css/
    │   └── style.css
    └── index.html
    </estrutura>

    <comando>mkdir css</comando> <- pode ter comandos em qualquer lugar

    <codigo ref="./index.html">
    <!DOCTYPE html>
    <html>
    ....
    </html>
    </codigo>

    <codigo ref="./monstro.svg">
    <svg>
    ...
    </svg>
    </codigo>

    <comando>...</comando>
    <comando>...</comando>

    <codigo ref="./index.html">
    <html>
    ....
    </html>
    </codigo>

    <comando>...</comando>

    Mostre SEMPRE o código COMPLETO.
    Saiba que o usuario usa: Powershell
    Os caminhos em 'ref' dentro de <codigo> devem ser relativos ao diretório raiz do projeto.
    Os comandos dentro de <comando> devem ser válidos para PowerShell.

    -------------------------------------------------------------

    PARA EDIÇÃO + adição (opcional): (Instrução para a IA, a extensão atualmente foca na parte de criação)
    -------------------------------------------------------------
    Responda com:
    ESTRUTURA atualizada (obs: todo arquivo novo/existente que sofreu alteração deve ser mostrado COMPLETO)

    RESTANTE SEGUINDO AS MESMAS REGRAS ANTERIORES (usando <comando> e <codigo>)
    ```

2.  **Copy the Text:** Copy the entire relevant text output generated by the AI. You can typically start copying from the `PARTE ESTRUTURAL:` line onwards.

3.  **Open the Extension View:** In VS Code, click on the extension's icon in the Activity Bar (it should have an appropriate icon, possibly titled "AI Structure Gen" or similar).

4.  **Paste and Generate:** Paste the copied text into the text area within the extension's view and click the "Generate Structure" button.

5.  **Check the Terminal:** A terminal named "Structure Generator" will open (or be reused) and execute the commands and file writing operations **in the order they appeared in the input text**, relative to your currently open workspace folder. Monitor this terminal for any potential errors during execution.

    *Example of expected AI output format:*
    ```text
    PARA CRIAÇÃO:
    ------------------------------------------------------------------
    PARTE ESTRUTURAL:
    <texto>Aqui está a estrutura básica para o jogo de plataforma:</texto>
    <estrutura>
    .
    ├── css/
    │   └── style.css
    ├── js/
    │   └── script.js
    └── index.html
    </estrutura>

    <comando>mkdir css</comando>
    <comando>mkdir js</comando>

    <codigo ref="./index.html">
    <!DOCTYPE html>
    <html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <title>Jogo de Plataforma</title>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>
        <h1>Jogo</h1>
        <canvas id="gameCanvas" width="800" height="600"></canvas>
        <script src="js/script.js"></script>
    </body>
    </html>
    </codigo>

    <codigo ref="./css/style.css">
    body { margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; background-color: #f0f0f0; }
    canvas { border: 1px solid black; }
    </codigo>

    <codigo ref="./js/script.js">
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    // ... resto do código do jogo ...
    console.log("Jogo iniciado.");
    </codigo>

    <comando>Write-Host "Estrutura básica criada!" -ForegroundColor Green</comando>
    ```

## Important Notes

*   **PowerShell Required:** Ensure you have **PowerShell** available on your system and accessible in your VS Code terminal environment, as the extension uses it to execute commands.
*   **Format Sensitivity:** The extension relies heavily on the correct structure of the input text, specifically the `<comando>...</comando>` and `<codigo ref="...">...</codigo>` tags. Malformed tags or incorrect `ref` attributes may cause errors or unexpected behavior.
*   **Ignored Tags:** The extension is designed to **ignore** the content within `<texto>...</texto>` and `<estrutura>...</estrutura>` tags. These are primarily for human/AI readability.
*   **Execution Order:** Commands and file creation/writing operations are executed **sequentially** as they appear in the pasted text. Ensure the AI generates the text in a logical order (e.g., create a directory with `<comando>mkdir my_folder</comando>` *before* trying to write a file inside it with `<codigo ref="./my_folder/my_file.txt">...`).
*   **Workspace Context:** All operations are performed relative to the root of the currently opened workspace folder in VS Code. Make sure you have the correct project folder open.
*   **Overwriting Files:** If a `<codigo>` block refers to an existing file, the extension (using `Set-Content -Force`) will **overwrite** the existing file content. Be cautious when running the generator on existing projects.
*   **Security:** Executing commands generated by an AI carries inherent security risks. Always review the generated text, especially the `<comando>` tags, before clicking "Generate Structure" to ensure no malicious or unintended actions will be performed.
*   **Input Log:** The extension may create/update a `last_structure_input.txt` file in your workspace root with the last processed text input, which can be helpful for debugging.

## Contributing

(Placeholder: Link to GitHub repository will be added here once created.)

## License

(Placeholder: Add license information here, e.g., MIT License.)